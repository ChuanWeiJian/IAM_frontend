(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[38],{1551:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a.n(r),i=a(11),l=a(0),o=a.n(l),c=a(36),s=a(114),p=a(42),m=a(613),u=a.n(m),d=a(614),f=a.n(d),g=a(615),h=a.n(g),E=a(542),x=a(541),T=a(602),b=a(575),v=a.n(b),w=a(2),L=a.n(w),y=a(553),N=a(555),C=a(109),P=a(7),k=g.Search.SearchBar;t.default=Object(c.b)((function(e){return{letterTemplates:e.letterTemplatesList.letterTemplates,httpError:e.error.error,loading:e.loading.loading}}),{getAllLetterTemplates:C.c,updateLetterTemplates:C.d,resetError:P.c,setError:P.d})((function(e){Object(l.useEffect)((function(){e.getAllLetterTemplates()}),[]);var t=[{dataField:"index",text:"No",sort:!0},{dataField:"title",text:"Letter Template Title",sort:!0},{dataField:"actions",text:"Action",formatter:function(t,a,r){return o.a.createElement("div",{className:"d-flex flex-wrap align-items-center"},o.a.createElement(E.a,{placement:"top",overlay:o.a.createElement(x.a,{id:"tooltip-top"},"View")},o.a.createElement(p.a,{className:"p-2 btn-hover rounded-circle",to:t.view},o.a.createElement(T.f,{className:"cursor-pointer",size:24}))),o.a.createElement(E.a,{placement:"top",overlay:o.a.createElement(x.a,{id:"tooltip-top"},"Edit")},o.a.createElement(p.a,{className:"p-2 btn-hover rounded-circle",to:t.edit},o.a.createElement(T.d,{className:"cursor-pointer",size:24}))),o.a.createElement(E.a,{placement:"top",overlay:o.a.createElement(x.a,{id:"tooltip-top"},"Delete")},o.a.createElement("div",{className:"p-2 btn-hover rounded-circle",onClick:function(){v.a.fire({title:"Are you sure?",text:"Confirm to delete ".concat(a.title),icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(t){t.value?v.a.fire({title:"Deleting the template...",onBeforeOpen:function(){v.a.showLoading()},onOpen:function(){var t=Object(i.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L()({method:"DELETE",url:"".concat("https://peia-iam.herokuapp.com/api","/letters/").concat(a.id)}).then((function(t){v.a.hideLoading(),v.a.fire({title:"Successfully Delete the Letter Template",icon:"success",allowOutsideClick:!1}).then((function(t){e.updateLetterTemplates(a.id)}))}));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),v.a.hideLoading(),e.setError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),allowOutsideClick:function(){return!1}}):v.a.fire("Cancelled!","Permission denied.","error")}))}},o.a.createElement(T.b,{className:"cursor-pointer text-primary",size:24}))))}}],a={paginationSize:5,pageStartIndex:1,firstPageText:"First",prePageText:"Back",nextPageText:"Next",lastPageText:"Last",nextPageTitle:"First page",prePageTitle:"Pre page",firstPageTitle:"Next page",lastPageTitle:"Last page",showTotal:!0,totalSize:e.letterTemplates.length};return o.a.createElement("div",null,e.loading&&o.a.createElement(N.a,null),o.a.createElement(y.a,{error:e.httpError,onConfirm:e.resetError}),o.a.createElement(s.a,{routeSegments:[{name:"Letter Templates",path:"/letter"},{name:"Letter Templates List"}]}),o.a.createElement(s.e,{title:"Letter Templates List"},o.a.createElement(h.a,{striped:!0,keyField:"id",data:e.letterTemplates,columns:t,search:!0},(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},o.a.createElement(k,Object.assign({},e.searchProps,{className:"mb-2"}))),o.a.createElement(u.a,Object.assign({},e.baseProps,{bootstrap4:!0,pagination:f()(a),noDataIndication:"Table is empty",wrapperClasses:"table-responsive"})))}))))}))},553:function(e,t,a){"use strict";var r=a(0),n=a.n(r),i=a(569),l=a.n(i);t.a=function(e){return n.a.createElement(l.a,{show:!!e.error,title:"An Error Occured",type:"error",text:e.error?e.error.response?e.error.response.data.message:e.error.message:"",onConfirm:function(){return e.onConfirm()}})}},555:function(e,t,a){"use strict";var r=a(0),n=a.n(r),i={position:"fixed",left:0,right:0,top:"calc(50% - 20px)",margin:"auto",height:"40px",width:"40px",zIndex:324324324},l={position:"fixed",left:0,top:0,height:"100%",width:"100%",zIndex:324324323,backgroundColor:"white"};t.a=function(){return n.a.createElement("div",{style:l},n.a.createElement("div",{style:i},n.a.createElement("div",{className:"spinner spinner-bubble spinner-bubble-primary"})))}}}]);
//# sourceMappingURL=38.010f8159.chunk.js.map